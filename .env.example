# MCP Outlet Environment Configuration

# =============================================================================
# CLOUD PROVIDER CONFIGURATION
# =============================================================================

# Stage (required for deployment)
# Default dev
STAGE=dev

# Cloud provider (required for deployment)
# Currently support only azure
CLOUD_PROVIDER=azure

# Cloud provider region (required for deployment)
# Examples: us-east-1, eastus, us-central1
REGION=us-east-1

# AWS Account ID (required for AWS deployments)
ACCOUNT_ID=123456789012

# Azure Exiting Resource Group name (required for Azure deployments)
# Default: {service}-{stage}-rg
RESOURCE_GROUP=mcp-outlet-dev-rg

# Default: {service}{stage}storage
STORAGE_ACCOUNT_NAME=mcpoutletdevstorage

# Default: {service}{stage}cache
CACHE_STORAGE_ACCOUNT_NAME=mcpoutletdevcache

# Cache Storage SKU (required for Azure storage performance configuration)
# Default: Premium_LRS
CACHE_STORAGE_SKU_NAME=Premium_LRS


# =============================================================================
# NETWORK ACCESS CONFIGURATION
# =============================================================================
IS_PRIVATE=true
# Network Security Group for private endpoint access control
# Recommendation: Use isolated NSG per Function App for security (not shared)
# Controls which IP ranges can access your private Function App endpoints
# Default naming: {service}-{stage}-nsg (e.g., mcp-outlet-dev-nsg)
NETWORK_SECURITY_GROUP=mcp-outlet-dev-nsg

# Private DNS Zone for Azure Function App private link resolution
# Format: {service}-{stage}.privatelink.azurewebsites.net
# Safe to share across multiple Function Apps in same environment
# Handles DNS resolution: yourapp.azurewebsites.net â†’ private IP
DNS_ZONE_NAME=mcp-outlet-dev.privatelink.azurewebsites.net

# Required: Source IP ranges allowed to access private Function Apps via NSG rules
# Without this: Function Apps are completely inaccessible (NSG denies all traffic)
# These RFC 1918 ranges provide baseline access from private networks
ALLOWED_SOURCE_ADDRESS_PREFIXES=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16


# =============================================================================
# PYTHON RUNTIME CONFIGURATION
# =============================================================================

# Python function cache size in MB (default: 1024)
PYTHON_CACHE_SIZE=1024

# Python function cache mount path (default: /mnt/cache)
PYTHON_CACHE_MOUNT_PATH=/mnt/cache

# Azure Python function SKU name (default: EP1 - Elastic Premium)
PYTHON_SKU_NAME=EP1

# Azure Python function SKU tier (default: ElasticPremium)
PYTHON_SKU_TIER=ElasticPremium

# AWS Python Lambda memory size in MB (default: 128)
# Range: 128-10240 MB
PYTHON_MEMORY_SIZE=512

# AWS Python Lambda timeout in seconds (max: 29)
PYTHON_TIMEOUT=29

# =============================================================================
# NODE.JS RUNTIME CONFIGURATION
# =============================================================================

# Node.js function cache size in MB (default: 1024)
NODE_CACHE_SIZE=1024

# Node.js function cache mount path (default: /mnt/cache)
NODE_CACHE_MOUNT_PATH=/mnt/cache

# Azure Node.js function SKU name (default: EP1 - Elastic Premium)
NODE_SKU_NAME=EP1

# Azure Node.js function SKU tier (default: ElasticPremium)
NODE_SKU_TIER=ElasticPremium

# AWS Node.js Lambda memory size in MB (default: 128)
# Range: 128-10240 MB
NODE_MEMORY_SIZE=512

# AWS Node.js Lambda timeout in seconds (max: 29)
NODE_TIMEOUT=29

# =============================================================================
# AZURE SPECIFIC CONFIGURATION
# =============================================================================

# Azure SKU Options:
# - EP1 (Elastic Premium): 1 core, 3.5 GB RAM
# - EP2 (Elastic Premium): 2 cores, 7 GB RAM
# - EP3 (Elastic Premium): 4 cores, 14 GB RAM
# - Y1 (Consumption): Pay-per-use, limited resources
# - P1v2 (Premium v2): 1 core, 3.5 GB RAM
# - P2v2 (Premium v2): 2 cores, 7 GB RAM
# - P3v2 (Premium v2): 4 cores, 14 GB RAM

# =============================================================================
# AWS SPECIFIC CONFIGURATION
# =============================================================================

# AWS Lambda Memory Size Guidelines:
# - 128 MB: Minimal workloads
# - 256 MB: Light processing
# - 512 MB: Moderate processing (recommended for MCP)
# - 1024 MB: Heavy processing
# - 1536 MB: Complex workloads
# - 3008 MB: Maximum for most use cases

# AWS Lambda Timeout Guidelines:
# - 30s: Standard API requests
# - 60s: File processing
# - 300s: Data processing
# - 900s: Maximum (15 minutes)

# =============================================================================
# PERFORMANCE OPTIMIZATION
# =============================================================================

# Cache configuration affects performance:
# - Larger cache = faster package installation
# - Mount path should be consistent across deployments
# - Azure: Uses Azure Files for cache storage
# - AWS: Uses EFS for cache storage (if configured) 